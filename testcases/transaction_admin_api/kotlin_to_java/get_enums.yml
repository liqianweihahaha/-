- config:
    name: 获取交易系统的枚举
    base_url: ${ENV(transaction_admin_api_host)}
    verify: False
    variables:
        - unexist_Enums: 'test'

- test:
    name: 已登录内部账号系统-获取枚举-未传transactionEnums参数
    request:
        method: GET
        url: /enums
        headers:
            Authorization: ${internal_source_user_login_token()}
    validate:
        - eq: [status_code, 400]
        - eq: [content.error_code, 'Param-Invalid@Common']


- test:
    name: 已登录内部账号系统-获取枚举-transactionEnums为ORDER_STATE
    request:
        method: GET
        url: /enums?transactionEnums=ORDER_STATE
        headers:
            Authorization: ${internal_source_user_login_token()}
    validate:
        - eq: [status_code, 200]
        - type_match: [content, object]
        - type_match: [content.ORDER_STATE, list]
        - length_equals: [content.ORDER_STATE, 11]
        - length_equals: [content.ORDER_STATE.0, 2]


- test:
    name: 已登录内部账号系统-获取枚举-transactionEnums为ORDER_TYPE
    request:
        method: GET
        url: /enums?transactionEnums=ORDER_TYPE
        headers:
            Authorization: ${internal_source_user_login_token()}
    validate:
        - eq: [status_code, 200]
        - type_match: [content, object]
        - type_match: [content.ORDER_TYPE, list]
        - length_equals: [content.ORDER_TYPE, 4]
        - length_equals: [content.ORDER_TYPE.0, 2]

- test:
    name: 已登录内部账号系统-获取枚举-transactionEnums为ORDER_PLATFORM
    request:
        method: GET
        url: /enums?transactionEnums=ORDER_PLATFORM
        headers:
            Authorization: ${internal_source_user_login_token()}
    validate:
        - eq: [status_code, 200]
        - type_match: [content, object]
        - type_match: [content.ORDER_PLATFORM, list]
        - length_equals: [content.ORDER_PLATFORM, 12]
        - length_equals: [content.ORDER_PLATFORM.0, 2]


- test:
    name: 已登录内部账号系统-获取枚举-transactionEnums为PAYMENT_OPTION
    request:
        method: GET
        url: /enums?transactionEnums=PAYMENT_OPTION
        headers:
            Authorization: ${internal_source_user_login_token()}
    validate:
        - eq: [status_code, 200]
        - type_match: [content, object]
        - type_match: [content.PAYMENT_OPTION, list]
        - length_equals: [content.PAYMENT_OPTION, 4]
        - length_equals: [content.PAYMENT_OPTION.0, 2]



- test:
    name: 已登录内部账号系统-获取枚举-transactionEnums为PAYMENT_METHOD
    request:
        method: GET
        url: /enums?transactionEnums=PAYMENT_METHOD
        headers:
            Authorization: ${internal_source_user_login_token()}
    validate:
        - eq: [status_code, 200]
        - type_match: [content, object]
        - type_match: [content.PAYMENT_METHOD, list]
        - length_equals: [content.PAYMENT_METHOD, 14]
        - length_equals: [content.PAYMENT_METHOD.0, 2]


- test:
    name: 已登录内部账号系统-获取枚举-transactionEnums为PAYMENT_WAY
    request:
        method: GET
        url: /enums?transactionEnums=PAYMENT_WAY
        headers:
            Authorization: ${internal_source_user_login_token()}
    validate:
        - eq: [status_code, 200]
        - type_match: [content, object]
        - type_match: [content.PAYMENT_WAY, list]
        - length_equals: [content.PAYMENT_WAY, 5]
        - length_equals: [content.PAYMENT_WAY.0, 2]       


- test:
    name: 已登录内部账号系统-获取枚举-transactionEnums为PAYMENT_TYPE
    request:
        method: GET
        url: /enums?transactionEnums=PAYMENT_TYPE
        headers:
            Authorization: ${internal_source_user_login_token()}
    validate:
        - eq: [status_code, 200]
        - type_match: [content, object]
        - type_match: [content.PAYMENT_TYPE, list]
        - length_equals: [content.PAYMENT_TYPE, 15]
        - length_equals: [content.PAYMENT_TYPE.0, 2]


- test:
    name: 已登录内部账号系统-获取枚举-transactionEnums不存在
    request:
        method: GET
        url: /enums?transactionEnums=$unexist_Enums
        headers:
            Authorization: ${internal_source_user_login_token()}
    validate:
        - eq: [status_code, 400]
        

- test:
    name: 未登录内部账号系统-获取枚举-transactionEnums为PAYMENT_TYPE
    request:
        method: GET
        url: /enums?transactionEnums=PAYMENT_TYPE
    validate:
        - eq: [status_code, 401]
        - eq: [content.error_code, '10020005']